# src/plugins/newsScraper/searxng/docker-compose.yml
version: "3.9"

services:
  searxng:
    # 改為本地構建 (Build from local Dockerfile)
    build: .
    
    # 依然給它一個名字，方便識別
    image: news-scraper/searxng-custom:latest
    
    ports:
      - "8080:8080"
    
    # 【關鍵修改】移除 settings.yml 的掛載
    # 因為設定檔已經燒錄在 Image 裡了，不需要再掛載
    volumes:
      - searxng-data:/etc/searxng:rw
      
    environment:
      - BASE_URL=http://localhost:8080/
      
    logging:
      driver: "json-file"
      options:
        max-size: "1m"
        max-file: "1"

volumes:
  searxng-data: